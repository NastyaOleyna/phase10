{"ast":null,"code":"const {\n  createSlice\n} = require(\"@reduxjs/toolkit\");\nconst initialState = [{\n  id: 1,\n  name: \"\",\n  score: 0,\n  phase: 10,\n  finishedPhase: false,\n  winner: false\n}, {\n  id: 2,\n  name: \"\",\n  score: 0,\n  phase: 1,\n  finishedPhase: false,\n  winner: false\n}];\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState,\n  reducers: {\n    addUser(state) {\n      const newUser = {\n        id: state.length + 1,\n        score: 0,\n        phase: 1\n      };\n      return [...state, newUser];\n    },\n    addUserName(state, _ref) {\n      let {\n        payload: {\n          id,\n          name\n        }\n      } = _ref;\n      return state.map(item => item.id === id ? {\n        ...item,\n        name\n      } : item);\n    },\n    finishPhaseForUser(state, _ref2) {\n      let {\n        payload\n      } = _ref2;\n      return state.map(item => item.id === payload ? {\n        ...item,\n        finishedPhase: true\n      } : item);\n    },\n    updatePhaseForNewRound(state) {\n      return state.map(item => item.finishedPhase ? {\n        ...item,\n        finishedPhase: false,\n        phase: item.phase + 1\n      } : item);\n    },\n    updateScore(state, _ref3) {\n      let {\n        payload: {\n          id,\n          score\n        }\n      } = _ref3;\n      return state.map(item => item.id === id ? {\n        ...item,\n        score: item.score + score\n      } : item);\n    },\n    deleteUserCard(state, _ref4) {\n      let {\n        payload\n      } = _ref4;\n      return state.filter(item => item.id !== payload);\n    },\n    winner(state, action) {\n      return state.map(item => item.id === action.payload ? {\n        ...item,\n        winner: true\n      } : item);\n    }\n  }\n});\nexport default usersSlice.reducer;\nexport const {\n  winner,\n  addUser,\n  addUserName,\n  finishPhaseForUser,\n  updatePhaseForNewRound,\n  updateScore,\n  deleteUserCard\n} = usersSlice.actions;","map":{"version":3,"names":["createSlice","require","initialState","id","name","score","phase","finishedPhase","winner","usersSlice","reducers","addUser","state","newUser","length","addUserName","payload","map","item","finishPhaseForUser","updatePhaseForNewRound","updateScore","deleteUserCard","filter","action","reducer","actions"],"sources":["/Users/oleyna/Desktop/phase10-redux/src/slices/userSlice.js"],"sourcesContent":["const { createSlice } = require(\"@reduxjs/toolkit\");\n\n\nconst initialState = [\n    {\n        id: 1,\n        name: \"\",\n        score: 0,\n        phase: 10,\n        finishedPhase: false,\n        winner: false\n    },\n    {\n        id: 2,\n        name: \"\",\n        score: 0,\n        phase: 1,\n        finishedPhase: false,\n        winner: false\n    }\n];\n\nconst usersSlice = createSlice({\n    name: \"users\",\n    initialState,\n    reducers: {\n        addUser(state) {\n            const newUser = { id: state.length + 1, score: 0, phase: 1 };\n            return [...state, newUser]\n        },\n        addUserName(state, { payload: { id, name } }) {\n            return state.map((item) => item.id === id ? { ...item, name } : item)\n        },\n        finishPhaseForUser(state, { payload }) {\n            return state.map((item) => item.id === payload ? { ...item, finishedPhase: true } : item)\n        },\n        updatePhaseForNewRound(state) {\n            return state.map((item) => item.finishedPhase ? { ...item, finishedPhase: false, phase: item.phase + 1 } : item)\n        },\n        updateScore(state, { payload: { id, score } }) {\n            return state.map((item) => item.id === id ? { ...item, score: item.score + score } : item);\n        },\n        deleteUserCard(state, {payload}) {\n            return state.filter((item) => item.id !== payload)\n        },\n        winner(state, action) {\n            return state.map((item) => item.id === action.payload ? {...item, winner: true} : item)\n        }\n\n    }\n});\n\nexport default usersSlice.reducer;\nexport const { winner, addUser, addUserName, finishPhaseForUser, updatePhaseForNewRound, updateScore, deleteUserCard } = usersSlice.actions"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}